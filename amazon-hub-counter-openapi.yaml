openapi: 3.0.0
info:
  title: 'Amazon Store Feed API'
  description: |
    Amazon's API for creating and updating Amazon Access Points. 
    
    This guide is intended for Amazon Store Feed partners who wish to integrate with the Access Points Onboarding API. This API enables partners to programmatically create, update and disable locations in Amazon systems.
    
    Throughout this guide, partner developers can learn how to:
    1. Create a developer account and security profile to access relevant API environments.
    2. Request and use an authentication token to access the API.
    3. Create, update and disable locations through the API.

    In the scope of this document we will refer to partner locations also as Access Point locations.

    # Integration guide steps
    The Amazon API Store Feed is how Amazon is able to surface our PARP partner locations for our customers to select. The data must be transmitted on a daily basis to Amazon in order to maintain accurate information on our site. 
    The information pushed to Amazon through this integration will be immediately surfaced to our customers through the Location Selector, therefore ensuring alignment on naming conventions and correct use of fields is vital to launching 
    a new pickup point service with Amazon. 
    See below an example of the Location Selector for Belgium and what the customer sees:

    > ![Security Profile Management](assets/security_profiles_5.png)
    > *Figure 1 - Example Location Selector for Belgium*

    <br><br>

    ### What are we going to find in there? 
    The following steps is showing what we expect from this integration in order to cover the differents requirement to ensure the operational ability between both systems.
    ## Step 1: API requirements
    The Amazon Partner Integration Manager (PIM) team will guide the partner through the integration requirement and steps to enable the partner to scope the level of effort to complete the ask.
    The documents are as follows:

      1. [Amazon Store Feed API](https://amzn.github.io/amazon-hub-counter-api-docs/) online technical documentation (this document). This technical documentation provides a comprehensive list of the requirements, limitations and formats we expect the partner to follow during the API Store feed integrate.
      2. Amazon Store Feed Business cases (in annex below on this document): Operational documentation for the partner tech team to understand the actions that they should be able to cover once the Store Feed API integration is completed 
      in order to maintain and expand the network, whilst preserving and continuously improving the CX and quality.


    ## Step 2: Technical documentation review
    Once the partner tech team has fully read the documentation provided by the PIM team, Amazon and partner tech team will align through a dedicated session to answer initial questions prior to the partner tech team finalizing their scoping.


    ## Step 3: Connection information sharing
    The partner will send the PIM 2 items in order to proceed with the integration:

      1. Client ID: Generated on the developer portal as outlined on the link for [Developper Account Registration Process](https://amzn.github.io/amazon-hub-counter-api-docs/#section/Developer-Account-Registration-Process) within the online technical documentation (non personal e-mail).
      2. The administrative email used for the partner ops team which must have been registered in the [Amazon portal](https://www.amazon.com/ap/register?showRememberMe=true&openid.pape.max_auth_age=0&pageId=usflex&ignoreAuthState=1&mobileBrowserWeblabTreatment=C&openid.return_to=https%3A%2F%2Fwww.amazon.com%2Fap%2Fsignin%3Fopenid.pape.max_auth_age%3D900%26openid.return_to%3Dhttps%253A%252F%252Fwww.amazon.com%252Fgp%252Fyourstore%252Fhome%253Fpath%253D%25252Fgp%25252Fyourstore%25252Fhome%2526signIn%253D1%2526useRedirectOnSuccess%253D1%2526action%253Dsign-out%2526ref_%253Dnav_AccountFlyout_signout%26openid.assoc_handle%3Dusflex%26openid.mode%3Dcheckid_setup%26openid.ns%3Dhttp%253A%252F%252Fspecs.openid.net%252Fauth%252F2.0&prevRID=ZXD0GCBBKPXS6E0T4CTQ&openid.assoc_handle=usflex&openid.mode=checkid_setup&desktopBrowserWeblabTreatment=C&prepopulatedLoginId=&failedSignInCount=0&ref_=ap_sw_aa&disableLoginPrepopulate=1&switch_account=signin&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0) (non personal e-mail).

    Note that there is a differentiation between the Tech Accounts and the administrative e-mail accounts,
    which require different emails for security reasons. These accounts must be created through
    generic admin emails (not personal emails) to avoid future credential issues. They each require
    an unique phone number for verification purposes. We propose that the partner procures SIM
    cards for each of their tech accounts and administrative accounts. Note that if you are launching a
    locker and counter network, you will need to create two separate Client Ids but can use the
    same Tech Account, see below illustration.

    <br><br>

    > ![Security Profile Management](assets/security_profiles_6.png)
        <br><br>
    > *Figure 2 - 3P Tech Account - Administrative Accounts mapping*

    <br><br>


    > ![Security Profile Management](assets/security_profiles_7.png) 
        <br><br>
    > *Figure 3 - 1P Tech Account - Administrative Account mapping*

    ## Step 4: Connection tests
    Once the integration is complete, the partner will send an API call to verify the connectivity
    with the Amazon Store Feed system. The partner will complete the following:

      1. Send authentication call to fetch the API token
      2. Send a basic feed information to the Store Feed API - example provided on 'Create a Feed Section'.
      3. Retrieve the feed id
      4. Retrieve the output document

    ## Step 5: Business cases
  
    Once the partner confirms the connection is completed and the calls above are covered, the partner tech team will review the business cases document to have clear the scenarios to be tested on the implementation done. 
    If there is any additional business tests required for your marketplace, this will be communicated to you by the PIM. The partner tech team will complete the business cases (see [APPENDIX III - Business cases to be covered](https://amzn.github.io/amazon-hub-counter-api-docs/#section/Appendices/APPENDIX-III-Business-cases-to-be-covered) ) and share information following this format to provide
    Amazon the evidence needed that the integration has been successfully completed following the requirements:

    <table>
        <thead>
            <tr>
                <th>Business case</th>
                <th>Feed Id</th>
                <th>Output</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Create a single store using an API call</td>
                <td>30cd3ea3-5a37-4f4f-8eff-df319caf3433</td>
                <td>\"noOfAccessPointsProcessed\" : 1,\n  \"noOfAccessPointsSuccessfullyProcessed\" : 1,\n  \"noOfAccessPointsFailedToProcess\" : 0,\n</td>
            </tr>
            <tr>
                <td>Create a bulk of stores using an API call</td>
                <td>30cd3ea3-5a37-4f4f-8eff-df319caf3433</td>
                <td>\"noOfAccessPointsProcessed\" : 3000,\n  \"noOfAccessPointsSuccessfullyProcessed\" : 3000,\n  \"noOfAccessPointsFailedToProcess\" : 0,\n</td>
            </tr>
          

    In case the tests are accomplishing the quality bar in terms of data and functionality, the PIM
    will provide green light to the production migration, otherwise partner tech team will have to
    iterate until the tests are green.

    > *Figure 4 - Table format expected with two examples of the business cases requested*


    ## Step 6: Partner production enabling

    On the last integration phase, the PIM will perform the production configuration to allow the
    partner to make calls on the production environment, note that this does not mean that the
    locations are yet discoverable by the customers. Prior to moving towards a full daily push of
    stores, we will ask the partner to send a controlled number of stores (ideally less than 10% of
    network) to ensure that the data is flowing as expected on production environment. Once this
    is complete, the partner will then start sending daily pushes throughout the UAT process to
    ensure that the calls are following Amazon’s expectations. The PIM will monitor this closely
    throughout UAT.


    # Developer Account Registration Process
    A security profile must be created to access the Access Points API: Register as an Amazon developer on https://developer.amazon.com/ to create a security profile.
    > **NOTE**: The email used for this account should be one dedicated for this purpose (e.g. amazon-pickup@corpdomain.com).
    
    > **NOTE**: Use a dedicated security profile for Access Points Partner Onboarding API. Do not use the same security profile for other use cases.

    ## Setting up a new Security Profile
    Access https://developer.amazon.com/ using an existing Amazon Account or a new Amazon Developer Account to create a security profile.
    
    Upon completion of the account registration process, access the Security Profile Management section from: 
    
    `Developer Console > Settings > Security Profiles` *(Figure 1)*.

    > ![Security Profile Management](assets/security_profiles_1.png)
    > *Figure 1 - Security Profile Management*

    Then create a new Security Profile by providing following information *(Figure 2)*:
    1. **Security Profile Name**: A name for this security profile. For example: _AccessPointsYourCompanyName-Production-Profile_.
    2. **Security Profile Description**: A brief description of this security profile.

    > ![Create a new Security Profile](assets/security_profiles_2.png)
    > *Figure 2 - Create a new Security Profile*

     Create security profile by clicking the ***Save*** button. This gives access to the Web Settings tab containing the following information *(Figure 3)*:

    1. **Client ID**:  A client identifier used for application to receive the OAuth token. This identifier must be input into Partner Central in order to enable access the API.
    2. **Client Secret**: Client secret or password (do not share secret with Amazon representatives or anyone else).

    The Client ID and Client Secret that have been created allows secure identification with Amazon Access Points Onboarding API. Both are needed of these in order to receive access tokens and authenticate with the API.  

    > ![Security Profile Web Settings](assets/security_profiles_3.png)
    > *Figure 3 - Security Profile Web Settings*

    > **NOTE**: Client ID is different to the Security Profile ID available from the General tab of the security profile. There is no need to share the Security Profile ID with Amazon.


    ### Submitting Client IDs to Amazon
    If the Partner is located in North America or Europe, they should submit their Client ID to Partner Central as soon as possible.

    If the Partner is located in Asia Pacific, Australia or Mexico, they should submit the Client ID to their Amazon representative as soon as possible.

    In case of 3P Partners in any marketplace, they should submit the Client ID to their Amazon representative as soon as possible.
    
    This will allow Amazon to enable the Client ID which will, in turn, allow the partner to access the Access Point Onboarding API and progress to the next step.

    > ![Locating the Security Profile Client ID](assets/security_profiles_4.gif)

    Partners can send a maximum number of 15 API calls per day. If there is a specific business case for the Partner to perform more than 15 calls a day, please contact your Amazon representative to approve a temporary limit increase.
    # Endpoints
    
    ## Authentication
    
    | Region | Endpoint                             |
    |--------|--------------------------------------|
    |   All  | https://api.amazon.com/auth/o2/token |

    > **NOTE**: When obtaining the access token, the endpoint is the same for all regions and environments.

    ## Sandbox

    | Region | Endpoint                                       |
    |--------|------------------------------------------------|
    |   NA   | https://accesspoints-api-sandbox-na.amazon.com |
    |   EU   | https://accesspoints-api-sandbox-eu.amazon.com |
    |   FE   | https://accesspoints-api-sandbox-fe.amazon.com |

    ## Production

    | Region | Endpoint                                       |
    |--------|------------------------------------------------|
    |   NA   | https://accesspoints-api-na.amazon.com |
    |   EU   | https://accesspoints-api-eu.amazon.com |
    |   FE   | https://accesspoints-api-fe.amazon.com |

    # FAQ
    
    #### How do I submit regular store closures (e.g. a location close on Sundays)?
    You can skip entries for regular closure days in the standardHours array (e.g. skip SUNDAY if the location is closed on Sundays).

    #### How do I manage exceptional changes in opening hours? (e.g. different opening hours during Easter and Christmas holidays)
    We don't support yet exceptional changes in opening hours.
    
    #### How exceptional closures are reflected in the Amazon website?
    Exceptional closures submitted in the exceptionalClosures array are used to delay the Amazon customer promise, the customer will be able to see the location in the search results and on the address book. To temporarily remove a location from the website you can deactivate the location by setting the *isActive* parameter to 'false'.
    
    #### How do I create an exceptional closure starting from now and finishing some time in the future?
    You cannot use the current date for the exceptionalClosure startDateTime property as it will fail the validation, it has to be some time in the future. Consider if deactivating the location is not a best option for your use case.

    #### When should we use exceptional closures and when to deactivate a store?
    When the store needs to be closed for more than 7 days, the store should be deactivated. For less than 7 days, temporary closures should be used.
    
    #### Is there a limit on the exceptional closures I can submit?
    Yes, there is a buffer limit to ensure the good practice and usage of the functionality. If you send in total more than 30 active exceptional closure, the APi will report a message alerting it and the store will be reported as an error. 
    
    #### Are there any requirements for the format of the latitude and longitude properties?
    We support positive and negative digits and `.` (dot) as the decimal separator. The values must always be to 6 decimal places, ranging from -90 to 90 for latitude and -180 to 180 for longitude. The combination of 0,0 for both latitude and longitude will throw an error. 
    
    #### Why am I not able to get the LWA token while invoking api.amazon.com?
    Please validate following:

      1. Validate Header `Content-Type`. The value should be `application/json`.
      2. Validate clientId, clientSecret, grantType (should be `client_credentials`) and scope (should be `accesspoints::accesspoint:readwrite`).
      3. Validate URI (should be https://api.amazon.com/auth/o2/token) and HTTP VERB (should be `POST`).
    
    #### Why is the API endpoint submit Feed (/v1/feeds POST) returning 4XX code?
    Please validate following:

      1. Token is valid and issued within one hour of API invocation.
      2. Token passed in `Authorization` header while invoking Access Points API. Authorization header value should be formatted as `Bearer <Token granted from api.amazon.com>`. There must be a space in between `Bearer` and token.
      3. Validate the DNS name and overall URI
    
    #### Why is the API endpoint get Feed (/v1/feeds GET) returning 4XX code?
    Please validate following:

      1. Token is valid and issued within one hour of API invocation.
      2. Token passed in `Authorization` header while invoking Access Points API. Authorization header value should be formed as `Bearer <Token granted from api.amazon.com>`. There should be a space in between `Bearer` and token.
      3. Validate that the variable feedId and documentId are correct in URL.
      4. Validate the DNS name and overall URI.

    #### Which checks need to be done before start invoking Access Points API?
    Please validate following:

      1. Check that your email server allows mails from amazon.com. If not please whitelist the amazon.com domain.
      2. `Content-Type` should be `application/json` for all POST calls.
      3. `Content-Length` should not exceed 6MB.

    ####  I cannot set the closingTime to 00:00:00, how do I represent a location that is open 24hrs?
    Set the standardHours openingTime to 00:00:00 and the closingTime to 23:59:00, this will be shown as *Open 24hs* on Amazon website.

    #### How do I hide/remove a location from Amazon website?
    Send a feed updating that store and set the *isActive* flag to `false`.

    #### Can't I just send the JSON properties for the Access Point I want to update?
    No, the logic behind the update overwrites every property of the Access Point that matches the accessPointId on your request, if you omit properties they will be set to null/empty.

    #### How do I get a list of the Access Points I have submitted?
    This is not possible currently via the API. Upon request, we can generate a csv file with the list of your stores in the production environment.

    #### Can you send the entire list of locations?
    If the number of stores is less than 3000, you can send all of them together in one single feed. Or else, please divide the list in different feeds with no more than 3000 stores per feed.
   
    #### Should we send one store per feed or all stores can be sent in a single feed?
    As mentioned above, no more than 3000 stores should be sent in a single feed. For less than 3000 stores, only one feed should used to create/update stores.

    #### Do we need a developer email address only used for this specific purpose? 
    We strongly suggest to use an specific email for this to avoid access problems in the future with personal emails. 
   
    #### Can stores be created with the same address but with a different store name?
    Yes, but they need to have different store name. It is taken into account for identifying the store.
    
    #### Can we select Null values?
    For the fields which aren’t marked required, those can be skipped from the JSON schema in the feed. Although, if they are being provided, they can’t be null or empty.
    
    #### Which timezone should we select for country that have 2 timezones?
    For this particular scenario, input hours provided in the feed should be local for opening hours although different timezone should be specified via “timezone” field in the feed.
   
    #### Which fields are mandatory? `Applicable only for feedType=3P`
    For a 3P feed type, the mandatory fields are “accessPointId", "accessPointName", "isActive", "timeZone", "address", "standardHours", "capabilities", "capacity".  
   
    # Appendices

    ## APPENDIX I - API HTTP response status codes

    <table>
        <thead>
            <tr>
                <th>Response status code</th>
                <th>Meaning</th>
                <th>When this response will be returned</th>
                <th>Sample body</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>200</td>
                <td>OK</td>
                <td>Success API  calls  in case of GET APIs | Payload will depend on specific APIs.</td>
                <td></td>
            </tr>
            <tr>
                <td>201</td>
                <td>Created/Updated</td>
                <td>Success API  calls  in case of POST APIs | Payload will depend on specific APIs.</td>
                <td></td>
            </tr>
            <tr>
                <td>400</td>
                <td>Bad Request</td>
                <td>When mandatory field not filled. For example if feedType is empty, 400 response given.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp; "message": "FeedType is not present in request", <br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "false" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
            <tr>
                <td>403</td>
                <td>Access to resource is denied</td>
                <td>Response when attempt to access restricted API is made or token is invalid.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp; "message": "Auth with LWA failed: INVALID_TOKEN: invalid checksum", <br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "false" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
            <tr>
                <td>404</td>
                <td>Requested resource doesn't exists</td>
                <td>Response received with attempted access to invalid resource.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp; "message": "Requested resource does not exists.", <br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "false" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
            <tr>
                <td>429</td>
                <td>Call exceeded the maximum number of default allowed calls.</td>
                <td>Response received when the partner reach the maximum number of allowed calls to the API.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp; "message": "Daily limit of feed submission exceeded for clientId, please try again after 24 hours", <br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "false" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
            <tr>
                <td>40X</td>
                <td>Invalid input feed</td>
                <td>This error will be thrown when there is an error in parsing the input JSON document.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp;  "message": "Input Feed is not valid. Please read the API specification document."<br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "true" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
            <tr>
                <td>500</td>
                <td>Access Point API internal server error</td>
                <td>This error will be thrown when there is a server-side issue.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp; "message": "An error occurred, please try again later."<br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "true" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
            <tr>
                <td>50X</td>
                <td>Data configuration error</td>
                <td>This error will be thrown when there is an incorrect configuration of clientId to partnerId mapping in downstream service APUMS.</td>
                <td>
                  <code>
                  { <br/>
                    &nbsp;&nbsp;&nbsp; "message": "[DATA_CONFIGURATION_ERROR] There is some configuration issue. Please contact Amazon representative." <br/>
                    &nbsp;&nbsp;&nbsp; "retryable": "false" <br/>
                  } <br/>
                  </code>
                </td>
            </tr>
        </tbody>
    </table>    

    ## APPENDIX II - Supported Time Zones
    | Time Zone | Time Zone Code |
    |---------|---------------|
    | -12:00  |    Etc/GMT+12 |
    | -11:00  |    Etc/GMT+11 |
    | -11:00  |    Pacific/Midway |
    | -11:00  |    Pacific/Niue |
    | -11:00  |    Pacific/Pago_Pago, Pacific/Samoa, US/Samoa |
    | -10:00  |    America/Adak, America/Atka, US/Aleutian |
    | -10:00  |    Etc/GMT+10 |
    | -10:00  |    Pacific/Honolulu, Pacific/Johnston, US/Hawaii |
    | -10:00  |    Pacific/Rarotonga |
    | -10:00  |    Pacific/Tahiti |
    | -09:30  |    Pacific/Marquesas |
    | -09:00  |    America/Anchorage, US/Alaska |
    | -09:00  |    America/Juneau |
    | -09:00  |    America/Metlakatla |
    | -09:00  |    America/Nome |
    | -09:00  |    America/Sitka |
    | -09:00  |    America/Yakutat |
    | -09:00  |    Etc/GMT+9 |
    | -09:00  |    Pacific/Gambier |
    | -08:00  |    America/Dawson |
    | -08:00  |    America/Los_Angeles, US/Pacific, US/Pacific-New |
    | -08:00  |    America/Tijuana, America/Ensenada, America/Santa_Isabel, Mexico/BajaNorte |
    | -08:00  |    America/Vancouver, Canada/Pacific |
    | -08:00  |    America/Whitehorse, Canada/Yukon |
    | -08:00  |    Etc/GMT+8 |
    | -08:00  |    PST8PDT |
    | -08:00  |    Pacific/Pitcairn |
    | -07:00  |    America/Boise |
    | -07:00  |    America/Cambridge_Bay |
    | -07:00  |    America/Chihuahua |
    | -07:00  |    America/Creston |
    | -07:00  |    America/Dawson_Creek |
    | -07:00  |    America/Denver, America/Shiprock, Navajo, US/Mountain |
    | -07:00  |    America/Edmonton, Canada/Mountain |
    | -07:00  |    America/Fort_Nelson |
    | -07:00  |    America/Hermosillo |
    | -07:00  |    America/Inuvik |
    | -07:00  |    America/Mazatlan, Mexico/BajaSur |
    | -07:00  |    America/Ojinaga |
    | -07:00  |    America/Phoenix, US/Arizona |
    | -07:00  |    America/Yellowknife |
    | -07:00  |    Etc/GMT+7 |
    | -07:00  |    MST7MDT |
    | -06:00  |    America/Bahia_Banderas |
    | -06:00  |    America/Belize |
    | -06:00  |    America/Chicago, US/Central |
    | -06:00  |    America/Costa_Rica |
    | -06:00  |    America/El_Salvador |
    | -06:00  |    America/Guatemala |
    | -06:00  |    America/Indiana/Knox, America/Knox_IN, US/Indiana-Starke |
    | -06:00  |    America/Indiana/Tell_City |
    | -06:00  |    America/Managua |
    | -06:00  |    America/Matamoros |
    | -06:00  |    America/Menominee |
    | -06:00  |    America/Merida |
    | -06:00  |    America/Mexico_City, Mexico/General |
    | -06:00  |    America/Monterrey |
    | -06:00  |    America/North_Dakota/Beulah |
    | -06:00  |    America/North_Dakota/Center |
    | -06:00  |    America/North_Dakota/New_Salem |
    | -06:00  |    America/Rainy_River |
    | -06:00  |    America/Rankin_Inlet |
    | -06:00  |    America/Regina, Canada/Saskatchewan |
    | -06:00  |    America/Resolute |
    | -06:00  |    America/Swift_Current |
    | -06:00  |    America/Tegucigalpa |
    | -06:00  |    America/Winnipeg, Canada/Central |
    | -06:00  |    CST6CDT |
    | -06:00  |    Etc/GMT+6 |
    | -06:00  |    Pacific/Easter, Chile/EasterIsland |
    | -06:00  |    Pacific/Galapagos |
    | -05:00  |    America/Atikokan, America/Coral_Harbour |
    | -05:00  |    America/Bogota |
    | -05:00  |    America/Cancun |
    | -05:00  |    America/Cayman |
    | -05:00  |    America/Detroit, US/Michigan |
    | -05:00  |    America/Eirunepe |
    | -05:00  |    America/Grand_Turk |
    | -05:00  |    America/Guayaquil |
    | -05:00  |    America/Havana, Cuba |
    | -05:00  |    America/Indiana/Indianapolis, America/Fort_Wayne, America/Indianapolis, US/East-Indiana |
    | -05:00  |    America/Indiana/Marengo |
    | -05:00  |    America/Indiana/Petersburg |
    | -05:00  |    America/Indiana/Vevay |
    | -05:00  |    America/Indiana/Vincennes |
    | -05:00  |    America/Indiana/Winamac |
    | -05:00  |    America/Iqaluit |
    | -05:00  |    America/Jamaica, Jamaica |
    | -05:00  |    America/Kentucky/Louisville, America/Louisville |
    | -05:00  |    America/Kentucky/Monticello |
    | -05:00  |    America/Lima |
    | -05:00  |    America/Nassau |
    | -05:00  |    America/New_York, US/Eastern |
    | -05:00  |    America/Nipigon |
    | -05:00  |    America/Panama |
    | -05:00  |    America/Pangnirtung |
    | -05:00  |    America/Port-au-Prince |
    | -05:00  |    America/Rio_Branco, America/Porto_Acre, Brazil/Acre |
    | -05:00  |    America/Thunder_Bay |
    | -05:00  |    America/Toronto, America/Montreal, Canada/Eastern |
    | -05:00  |    EST5EDT |
    | -05:00  |    Etc/GMT+5 |
    | -04:00  |    America/Anguilla |
    | -04:00  |    America/Antigua |
    | -04:00  |    America/Aruba |
    | -04:00  |    America/Asuncion |
    | -04:00  |    America/Barbados |
    | -04:00  |    America/Blanc-Sablon |
    | -04:00  |    America/Boa_Vista |
    | -04:00  |    America/Campo_Grande |
    | -04:00  |    America/Caracas |
    | -04:00  |    America/Cuiaba |
    | -04:00  |    America/Curacao |
    | -04:00  |    America/Dominica |
    | -04:00  |    America/Glace_Bay |
    | -04:00  |    America/Goose_Bay |
    | -04:00  |    America/Grenada |
    | -04:00  |    America/Guadeloupe |
    | -04:00  |    America/Guyana |
    | -04:00  |    America/Halifax, Canada/Atlantic |
    | -04:00  |    America/Kralendijk |
    | -04:00  |    America/La_Paz |
    | -04:00  |    America/Lower_Princes |
    | -04:00  |    America/Manaus, Brazil/West |
    | -04:00  |    America/Marigot |
    | -04:00  |    America/Martinique |
    | -04:00  |    America/Moncton |
    | -04:00  |    America/Montserrat |
    | -04:00  |    America/Port_of_Spain, America/Virgin |
    | -04:00  |    America/Porto_Velho |
    | -04:00  |    America/Puerto_Rico |
    | -04:00  |    America/Santiago, Chile/Continental |
    | -04:00  |    America/Santo_Domingo |
    | -04:00  |    America/St_Barthelemy |
    | -04:00  |    America/St_Kitts |
    | -04:00  |    America/St_Lucia |
    | -04:00  |    America/St_Thomas |
    | -04:00  |    America/St_Vincent |
    | -04:00  |    America/Thule |
    | -04:00  |    America/Tortola |
    | -04:00  |    Atlantic/Bermuda |
    | -04:00  |    Etc/GMT+4 |
    | -03:30  |    America/St_Johns, Canada/Newfoundland |
    | -03:00  |    America/Araguaina |
    | -03:00  |    America/Argentina/Buenos_Aires, America/Buenos_Aires |
    | -03:00  |    America/Argentina/Catamarca, America/Argentina/ComodRivadavia, America/Catamarca |
    | -03:00  |    America/Argentina/Cordoba, America/Cordoba, America/Rosario |
    | -03:00  |    America/Argentina/Jujuy, America/Jujuy |
    | -03:00  |    America/Argentina/La_Rioja |
    | -03:00  |    America/Argentina/Mendoza, America/Mendoza |
    | -03:00  |    America/Argentina/Rio_Gallegos |
    | -03:00  |    America/Argentina/Salta |
    | -03:00  |    America/Argentina/San_Juan |
    | -03:00  |    America/Argentina/San_Luis |
    | -03:00  |    America/Argentina/Tucuman |
    | -03:00  |    America/Argentina/Ushuaia |
    | -03:00  |    America/Bahia |
    | -03:00  |    America/Belem |
    | -03:00  |    America/Cayenne |
    | -03:00  |    America/Fortaleza |
    | -03:00  |    America/Godthab |
    | -03:00  |    America/Maceio |
    | -03:00  |    America/Miquelon |
    | -03:00  |    America/Montevideo |
    | -03:00  |    America/Paramaribo |
    | -03:00  |    America/Punta_Arenas |
    | -03:00  |    America/Recife |
    | -03:00  |    America/Santarem |
    | -03:00  |    America/Sao_Paulo, Brazil/East |
    | -03:00  |    Antarctica/Palmer |
    | -03:00  |    Antarctica/Rothera |
    | -03:00  |    Atlantic/Stanley |
    | -03:00  |    Etc/GMT+3 |
    | -02:00  |    America/Noronha, Brazil/DeNoronha |
    | -02:00  |    Atlantic/South_Georgia |
    | -02:00  |    Etc/GMT+2 |
    | -01:00  |    America/Scoresbysund |
    | -01:00  |    Atlantic/Azores |
    | -01:00  |    Atlantic/Cape_Verde |
    | -01:00  |    Etc/GMT+1 |
    | +00:00  |    Africa/Abidjan, Africa/Timbuktu |
    | +00:00  |    Africa/Accra |
    | +00:00  |    Africa/Bamako |
    | +00:00  |    Africa/Banjul |
    | +00:00  |    Africa/Bissau |
    | +00:00  |    Africa/Casablanca |
    | +00:00  |    Africa/Conakry |
    | +00:00  |    Africa/Dakar |
    | +00:00  |    Africa/El_Aaiun |
    | +00:00  |    Africa/Freetown |
    | +00:00  |    Africa/Lome |
    | +00:00  |    Africa/Monrovia |
    | +00:00  |    Africa/Nouakchott |
    | +00:00  |    Africa/Ouagadougou |
    | +00:00  |    America/Danmarkshavn |
    | +00:00  |    Antarctica/Troll |
    | +00:00  |    Atlantic/Canary |
    | +00:00  |    Atlantic/Faroe, Atlantic/Faeroe |
    | +00:00  |    Atlantic/Madeira |
    | +00:00  |    Atlantic/Reykjavik, Iceland |
    | +00:00  |    Atlantic/St_Helena |
    | +00:00  |    Etc/GMT, Etc/GMT+0, Etc/GMT-0, Etc/GMT0, Etc/Greenwich, GMT, GMT+0, GMT-0, GMT0, Greenwich |
    | +00:00  |    Etc/UCT, UCT |
    | +00:00  |    Etc/UTC, Etc/Universal, Etc/Zulu, Universal, Zulu |
    | +00:00  |    Europe/Dublin, Eire |
    | +00:00  |    Europe/Guernsey |
    | +00:00  |    Europe/Isle_of_Man |
    | +00:00  |    Europe/Jersey |
    | +00:00  |    Europe/Lisbon, Portugal |
    | +00:00  |    Europe/London, Europe/Belfast, GB, GB-Eire |
    | +00:00  |    UTC |
    | +00:00  |    WET |
    | +01:00  |    Africa/Algiers |
    | +01:00  |    Africa/Bangui |
    | +01:00  |    Africa/Brazzaville |
    | +01:00  |    Africa/Ceuta |
    | +01:00  |    Africa/Douala |
    | +01:00  |    Africa/Kinshasa |
    | +01:00  |    Africa/Lagos |
    | +01:00  |    Africa/Libreville |
    | +01:00  |    Africa/Luanda |
    | +01:00  |    Africa/Malabo |
    | +01:00  |    Africa/Ndjamena |
    | +01:00  |    Africa/Niamey |
    | +01:00  |    Africa/Porto-Novo |
    | +01:00  |    Africa/Sao_Tome |
    | +01:00  |    Africa/Tunis |
    | +02:00  |    Africa/Windhoek |
    | +01:00  |    Arctic/Longyearbyen |
    | +01:00  |    CET |
    | +01:00  |    Etc/GMT-1 |
    | +01:00  |    Europe/Amsterdam |
    | +01:00  |    Europe/Andorra |
    | +01:00  |    Europe/Belgrade |
    | +01:00  |    Europe/Berlin |
    | +01:00  |    Europe/Bratislava |
    | +01:00  |    Europe/Brussels |
    | +01:00  |    Europe/Budapest |
    | +01:00  |    Europe/Busingen |
    | +01:00  |    Europe/Copenhagen |
    | +01:00  |    Europe/Gibraltar |
    | +01:00  |    Europe/Ljubljana |
    | +01:00  |    Europe/Luxembourg |
    | +01:00  |    Europe/Madrid |
    | +01:00  |    Europe/Malta |
    | +01:00  |    Europe/Monaco |
    | +01:00  |    Europe/Oslo, Atlantic/Jan_Mayen |
    | +01:00  |    Europe/Paris |
    | +01:00  |    Europe/Podgorica |
    | +01:00  |    Europe/Prague |
    | +01:00  |    Europe/Rome |
    | +01:00  |    Europe/San_Marino |
    | +01:00  |    Europe/Sarajevo |
    | +01:00  |    Europe/Skopje |
    | +01:00  |    Europe/Stockholm |
    | +01:00  |    Europe/Tirane |
    | +01:00  |    Europe/Vaduz |
    | +01:00  |    Europe/Vatican |
    | +01:00  |    Europe/Vienna |
    | +01:00  |    Europe/Warsaw, Poland |
    | +01:00  |    Europe/Zagreb |
    | +01:00  |    Europe/Zurich |
    | +01:00  |    MET |
    | +02:00  |    Africa/Blantyre |
    | +02:00  |    Africa/Bujumbura |
    | +02:00  |    Africa/Cairo, Egypt |
    | +02:00  |    Africa/Gaborone |
    | +02:00  |    Africa/Harare |
    | +02:00  |    Africa/Johannesburg |
    | +02:00  |    Africa/Khartoum |
    | +02:00  |    Africa/Kigali |
    | +02:00  |    Africa/Lubumbashi |
    | +02:00  |    Africa/Lusaka |
    | +02:00  |    Africa/Maputo |
    | +02:00  |    Africa/Maseru |
    | +02:00  |    Africa/Mbabane |
    | +02:00  |    Africa/Tripoli, Libya |
    | +02:00  |    Asia/Amman |
    | +02:00  |    Asia/Beirut |
    | +02:00  |    Asia/Damascus |
    | +02:00  |    Asia/Famagusta |
    | +02:00  |    Asia/Gaza |
    | +02:00  |    Asia/Hebron |
    | +02:00  |    Asia/Jerusalem, Asia/Tel_Aviv, Israel |
    | +02:00  |    Asia/Nicosia |
    | +02:00  |    EET |
    | +02:00  |    Etc/GMT-2 |
    | +02:00  |    Europe/Athens |
    | +02:00  |    Europe/Bucharest |
    | +02:00  |    Europe/Chisinau, Europe/Tiraspol |
    | +02:00  |    Europe/Helsinki |
    | +02:00  |    Europe/Kaliningrad |
    | +02:00  |    Europe/Kiev |
    | +02:00  |    Europe/Mariehamn |
    | +02:00  |    Europe/Nicosia |
    | +02:00  |    Europe/Riga |
    | +02:00  |    Europe/Sofia |
    | +02:00  |    Europe/Tallinn |
    | +02:00  |    Europe/Uzhgorod |
    | +02:00  |    Europe/Vilnius |
    | +02:00  |    Europe/Zaporozhye |
    | +03:00  |    Africa/Addis_Ababa |
    | +03:00  |    Africa/Asmara |
    | +03:00  |    Africa/Dar_es_Salaam |
    | +03:00  |    Africa/Djibouti |
    | +03:00  |    Africa/Juba |
    | +03:00  |    Africa/Kampala |
    | +03:00  |    Africa/Mogadishu |
    | +03:00  |    Africa/Nairobi, Africa/Asmera |
    | +03:00  |    Antarctica/Syowa |
    | +03:00  |    Asia/Aden |
    | +03:00  |    Asia/Baghdad |
    | +03:00  |    Asia/Bahrain |
    | +03:00  |    Asia/Istanbul |
    | +03:00  |    Asia/Kuwait |
    | +03:00  |    Asia/Qatar |
    | +03:00  |    Asia/Riyadh |
    | +03:00  |    Etc/GMT-3 |
    | +03:00  |    Europe/Istanbul, Turkey |
    | +03:00  |    Europe/Kirov |
    | +03:00  |    Europe/Minsk |
    | +03:00  |    Europe/Moscow, W-SU |
    | +03:00  |    Europe/Simferopol |
    | +03:00  |    Indian/Antananarivo |
    | +03:00  |    Indian/Comoro |
    | +03:00  |    Indian/Mayotte |
    | +03:30  |    Asia/Tehran, Iran |
    | +04:00  |    Asia/Baku |
    | +04:00  |    Asia/Dubai |
    | +04:00  |    Asia/Muscat |
    | +04:00  |    Asia/Tbilisi |
    | +04:00  |    Asia/Yerevan |
    | +04:00  |    Etc/GMT-4 |
    | +04:00  |    Europe/Astrakhan |
    | +04:00  |    Europe/Samara |
    | +04:00  |    Europe/Saratov |
    | +04:00  |    Europe/Ulyanovsk |
    | +04:00  |    Europe/Volgograd |
    | +04:00  |    Indian/Mahe |
    | +04:00  |    Indian/Mauritius |
    | +04:00  |    Indian/Reunion |
    | +04:30  |    Asia/Kabul |
    | +05:00  |    Antarctica/Mawson |
    | +05:00  |    Asia/Aqtau |
    | +05:00  |    Asia/Aqtobe |
    | +05:00  |    Asia/Ashgabat, Asia/Ashkhabad |
    | +05:00  |    Asia/Atyrau |
    | +05:00  |    Asia/Dushanbe |
    | +05:00  |    Asia/Karachi |
    | +05:00  |    Asia/Oral |
    | +05:00  |    Asia/Samarkand |
    | +05:00  |    Asia/Tashkent |
    | +05:00  |    Asia/Yekaterinburg |
    | +05:00  |    Etc/GMT-5 |
    | +05:00  |    Indian/Kerguelen |
    | +05:00  |    Indian/Maldives |
    | +05:30  |    Asia/Colombo |
    | +05:30  |    Asia/Kolkata, Asia/Calcutta |
    | +05:45  |    Asia/Kathmandu, Asia/Katmandu |
    | +06:00  |    Antarctica/Vostok |
    | +06:00  |    Asia/Almaty |
    | +06:00  |    Asia/Bishkek |
    | +06:00  |    Asia/Dhaka, Asia/Dacca |
    | +06:00  |    Asia/Omsk |
    | +06:00  |    Asia/Qyzylorda |
    | +06:00  |    Asia/Thimphu, Asia/Thimbu |
    | +06:00  |    Asia/Urumqi, Asia/Kashgar |
    | +06:00  |    Etc/GMT-6 |
    | +06:00  |    Indian/Chagos |
    | +06:30  |    Asia/Yangon, Asia/Rangoon |
    | +06:30  |    Indian/Cocos |
    | +07:00  |    Antarctica/Davis |
    | +07:00  |    Asia/Bangkok |
    | +07:00  |    Asia/Barnaul |
    | +07:00  |    Asia/Ho_Chi_Minh, Asia/Saigon |
    | +07:00  |    Asia/Hovd |
    | +07:00  |    Asia/Jakarta |
    | +07:00  |    Asia/Krasnoyarsk |
    | +07:00  |    Asia/Novokuznetsk |
    | +07:00  |    Asia/Novosibirsk |
    | +07:00  |    Asia/Phnom_Penh |
    | +07:00  |    Asia/Pontianak |
    | +07:00  |    Asia/Tomsk |
    | +07:00  |    Asia/Vientiane |
    | +07:00  |    Etc/GMT-7 |
    | +07:00  |    Indian/Christmas |
    | +08:00  |    Antarctica/Casey |
    | +08:00  |    Asia/Brunei |
    | +08:00  |    Asia/Choibalsan |
    | +08:00  |    Asia/Hong_Kong, Hongkong |
    | +08:00  |    Asia/Irkutsk |
    | +08:00  |    Asia/Kuala_Lumpur |
    | +08:00  |    Asia/Kuching |
    | +08:00  |    Asia/Macau, Asia/Macao |
    | +08:00  |    Asia/Makassar, Asia/Ujung_Pandang |
    | +08:00  |    Asia/Manila |
    | +08:00  |    Asia/Shanghai, Asia/Chongqing, Asia/Chungking, Asia/Harbin, PRC |
    | +08:00  |    Asia/Singapore, Singapore |
    | +08:00  |    Asia/Taipei, ROC |
    | +08:00  |    Asia/Ulaanbaatar, Asia/Ulan_Bator |
    | +08:00  |    Australia/Perth, Australia/West |
    | +08:00  |    Etc/GMT-8 |
    | +08:45  |    Australia/Eucla |
    | +09:00  |    Asia/Chita |
    | +09:00  |    Asia/Dili |
    | +09:00  |    Asia/Jayapura |
    | +09:00  |    Asia/Khandyga |
    | +09:00  |    Asia/Pyongyang |
    | +09:00  |    Asia/Seoul, ROK |
    | +09:00  |    Asia/Tokyo, Japan |
    | +09:00  |    Asia/Yakutsk |
    | +09:00  |    Etc/GMT-9 |
    | +09:00  |    Pacific/Palau |
    | +09:30  |    Australia/Adelaide, Australia/South |
    | +09:30  |    Australia/Broken_Hill, Australia/Yancowinna |
    | +09:30  |    Australia/Darwin, Australia/North |
    | +10:00  |    Antarctica/DumontDUrville |
    | +10:00  |    Asia/Ust-Nera |
    | +10:00  |    Asia/Vladivostok |
    | +10:00  |    Australia/Brisbane, Australia/Queensland |
    | +10:00  |    Australia/Currie |
    | +10:00  |    Australia/Hobart, Australia/Tasmania |
    | +10:00  |    Australia/Lindeman |
    | +10:00  |    Australia/Melbourne, Australia/Victoria |
    | +10:00  |    Australia/Sydney, Australia/ACT, Australia/Canberra, Australia/NSW |
    | +10:00  |    Etc/GMT-10 |
    | +10:00  |    Pacific/Chuuk, Pacific/Truk, Pacific/Yap |
    | +10:00  |    Pacific/Guam |
    | +10:00  |    Pacific/Port_Moresby |
    | +10:00  |    Pacific/Saipan |
    | +10:30  |    Australia/Lord_Howe, Australia/LHI |
    | +11:00  |    Antarctica/Macquarie |
    | +11:00  |    Asia/Magadan |
    | +11:00  |    Asia/Sakhalin |
    | +11:00  |    Asia/Srednekolymsk |
    | +11:00  |    Etc/GMT-11 |
    | +11:00  |    Pacific/Bougainville |
    | +11:00  |    Pacific/Efate |
    | +11:00  |    Pacific/Guadalcanal |
    | +11:00  |    Pacific/Kosrae |
    | +11:00  |    Pacific/Norfolk |
    | +11:00  |    Pacific/Noumea |
    | +11:00  |    Pacific/Pohnpei, Pacific/Ponape |
    | +12:00  |    Antarctica/McMurdo |
    | +12:00  |    Asia/Anadyr |
    | +12:00  |    Asia/Kamchatka |
    | +12:00  |    Etc/GMT-12 |
    | +12:00  |    Pacific/Auckland, Antarctica/South_Pole, NZ |
    | +12:00  |    Pacific/Fiji |
    | +12:00  |    Pacific/Funafuti |
    | +12:00  |    Pacific/Kwajalein, Kwajalein |
    | +12:00  |    Pacific/Majuro |
    | +12:00  |    Pacific/Nauru |
    | +12:00  |    Pacific/Tarawa |
    | +12:00  |    Pacific/Wake |
    | +12:00  |    Pacific/Wallis |
    | +12:45  |    Pacific/Chatham, NZ-CHAT |
    | +13:00  |    Etc/GMT-13 |
    | +13:00  |    Pacific/Apia |
    | +13:00  |    Pacific/Enderbury |
    | +13:00  |    Pacific/Fakaofo |
    | +13:00  |    Pacific/Tongatapu |
    | +14:00  |    Etc/GMT-14 |
    | +14:00  |    Pacific/Kiritimati |

<<<<<<< HEAD
    ## APPENDIX III - Business cases to be covered

    ### Authentication:
    Generating tokens with the production Client id provided under the developer portal profile in
    combination with the secret.

    ### Single store:
      - Create a single store using an API call
      - Inactivate / activate a single store using an API call
      - Update a single store information using an API call:
        - Store name
        - Store address fields
        - Store opening and closing hours
        - Store capacity
        - Store capability
      - Add exceptional closures for a single store using an API call


    ### Bulk of stores:
    - Read carefully the following steps upfront the integration to ensure you are sending the expected data:
      - Feed_type = STORE_FEED → SENDING ONLY DELTAS of the total store network which have a change in any of the parameters.
      - Feed_type = 3P → SENDING THE ENTIRE (bulk) network of pick up points
    - Create a bulk of stores using an API call
    - Inactivate / activate a bulk of stores using an API call
    - Update a bulk of stores with different information combined using an API call:
      - Store name
      - Store address fields
      - Store opening and closing hours
      - Store capacity
      - Store capability
    - Add exceptional closures for a bulk of stores using an API call


    ## APPENDIX IV - Tests to be completed on sandbox

    ### Successful responses:
    
    The following test must be performed for both business cases, single and bulk store before proceeding with the moving to production environment:
      - Store creation, expected result: Store processed and visible on Amazon back-end.
      - Store update, expected result: Store update changes visible on Amazon back-end.
      - Store inactivation, expected result: Store status updated and visible on Amazon back-end.
      - Store temporary closed, expected result: Store status updated and visible on Amazon back-end.
    
    All these responses are available and must be checked on partner side with the API function of retrieve an output document which contains the call response.

    ### Error control:

    The following test must be performed for both business cases, single and bulk store before proceeding with the moving to production environment. 
    All the errors reported on the API online documentation shared with the partner provides visibility on what is wrong with the feed or with a specific location. 
    The integration must be able to read the output of the call and provide the operator the ability to fix the location to re-submit the call with the data fixed.
      - Store creation with wrong flag status
      - Store update with wrong standard hours:
        - Sending less than two opening days on a week
      - Store update with wrong opening hours:
        - Data and time format
      - Store update with wrong exceptional closure hours:
        - Date in the past
        - Overlapping date ranges
      - Data truncation due to allowed length exceeded (e.g. accessPointName > 50 characters)
      - Timezone and Country Code ISO values validation
    
    For all the cases above mentioned, there is an error code and error description published on the output document. 
    Those errors are collected and mentioned on the API Online Documentation under _Return a document call_



  version: '1.2.0'
=======
  version: '1.1.3'
>>>>>>> 004be0da4e3d0b6d0824c45e5011df7c2ba83e99
servers:
  - url: https://accesspoints-api-sandbox-na.amazon.com/v1
    description: 'NA staging server for testing'
  - url: https://accesspoints-api-na.amazon.com/v1
    description: 'NA production server'
  - url: https://accesspoints-api-sandbox-eu.amazon.com/v1
    description: 'EU staging server for testing'
  - url: https://accesspoints-api-eu.amazon.com/v1
    description: 'EU production server'
  - url: https://accesspoints-api-sandbox-fe.amazon.com/v1
    description: 'FE staging server for testing'
  - url: https://accesspoints-api-fe.amazon.com/v1
    description: 'FE production server'
paths:
  /token:
    servers: [{
      "url": "https://api.amazon.com/auth/o2"
    }]
    post:
      summary: 'Return an access token'
      description: |
        Once Client ID has been whitelisted by Amazon, please request a Login with Amazon access token to access the API.

        ### Access Token Expiration
        Access tokens expire after 1 hour. If token expires, create a new token to use in all future requests. 
        
        Attempted access to the API with an expired token will give 403 HTTP errors (forbidden).
      requestBody:
        description: Partner credentials need to be set in the request body.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccessTokenRequest'

      responses:
        '200':
          description: 'Return a valid access token.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessTokenResponse'
        '401':
          description: 'Authentication failed.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessTokenResponseError'

  /feeds:
    post:
      summary: 'Create a feed'
      description: 'Creates a feed containing information for a list Access Points to be created or updated which is always processed asynchronously.'
      security:
        - BearerAuth: []
      parameters:
        - in: header
          name: 'Content-Type'
          description: |
            `Content-Type` header is required for this method and must be `application/json`. 
          schema:
            type: string
            default: 'application/json'
          required: true
        - in: header
          name: 'Content-Length'
          description: |
            `Content-Length` header is required for this method and ***must*** match the size of the body on the payload.
            > **NOTE**: Sending an incorrect value will make the request fail.
          schema:
            type: int
          required: true
        - in: query
          name: feedType
          description: |
            Specifies the type of feed to be submitted.
            * For Amazon Counter access points use the value `STORE_FEED`.
            * For third party pick-up points use the value `3P`.
          schema:
            type: string
            example: STORE_FEED
            enum: [STORE_FEED, 3P]
          required: true
      requestBody:
        required: true
        content: 
          application/json:
            schema:
              $ref: '#/components/schemas/FeedsRequest'
      responses:
        '201':
          description: 'Feed created.'
          content:
            application/json:
              schema:
                type: object
                properties:
                  feedId:
                    type: string
                    example: '0fbee22e-e455-44d5-9a5d-14fd1a312578'
        '403':
          description: 'Unauthorized. Invalid or expired access_token.'
          content:
            application/json:
              schema: 
                $ref: '#/components/schemas/AuthError'

    get:
      summary: 'Return a list of feeds'
      description: | 
        Returns a list of bulk Access Points update promises called feeds. This resource supports pagination via the optional parameters _pageSize_ and _nextOffset_. 
        
        The feeds are processed asynchronously - when the _status_ of the feed is set to **Completed**, processing of the feed has finished. 
        
        Query the resource to check the processing results _v1/feeds/{feedId}/documents/{outputDocumentId}_ with the corresponding _feedId_ and _outputDocumentId_ of the feed.
      security:
        - BearerAuth: []
      parameters: 
        - in: query
          name: pageSize
          description: 'Optional. The maximum amount of feeds to receive per request, the default value is 50.'
          schema:
            type: integer
            default: 50
            maximum: 100
          required: false
        - in: query
          name: nextOffset
          example: '07ad3e76-a9f7-4222-8586-3d142048cd43:40349'
          description: 'Optional. Returns latest feeds as per page size value if not set. If provided, results received start from nextOffset value.'
          schema:
            type: string
          required: false
      responses:
        '200':
            description: 'Feed list.'
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    nextOffset:
                      type: string
                      example: '07ad3e76-a9f7-4222-8586-3d142048cd43:40349'
                      description: 'Token for pagination, use this in the query string to access next page.'
                      nullable: true
                    records:
                      type: array
                      description: An array containing latest uploaded feeds.
                      items: 
                        $ref: '#/components/schemas/FeedsResponse'
        '403':
            description: 'Unauthorized. Invalid or expired access_token.'
            content:
              application/json:
                schema: 
                  $ref: '#/components/schemas/AuthError'

  /feeds/{feedId}:
    get:
      summary: 'Return a feed'
      description: 'Returns a specific feed.'
      security:
        - BearerAuth: []
      parameters: 
        - in: path
          name: feedId
          description: 'FeedId of the requested feed.'
          schema: 
            type: string
            example: '0fbee22e-e455-44d5-9a5d-14fd1a312578'
          required: true
      responses:
        '200':
          description: 'Returns feed information.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FeedsResponse'
        '403':
          description: 'Unauthorized. Invalid or expired access_token.'
          content:
            application/json:
              schema: 
                $ref: '#/components/schemas/AuthError'
        '404':
          description: 'Feed not found.'
          content:
            application/json:
              schema: 
                $ref: '#/components/schemas/NotFoundError'

  /feeds/{feedId}/documents/{documentId}:
    get:
      summary: 'Return a document'
      description: |
        This method returns a specific document, the requested document can be an InputDocument or OutputDocument.

        * If the documentId corresponds to an OutputDocument, results of feed processing received.
        * If the documentId corresponds to an InputDocument, payload will be exactly the same as submitted.
      security:
        - BearerAuth: []
      parameters: 
        - in: path
          name: feedId
          description: 'FeedId of the feed that originated this document.'
          example: '0fbee22e-e455-44d5-9a5d-14fd1a312578'
          schema: 
            type: string
          required: true
        - in: path
          name: documentId
          example: 'amzn1.tortuga.3.a74d493a-0767-4620-902f-3f05dd8cfc02.T2P91TLO6KF345'
          description: 'DocumentId of the requested document.'
          schema: 
            type: string
          required: true
      responses:
        '200':
          description: 'Return feed information.'
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/OutputDocument'
                  - $ref: '#/components/schemas/FeedsRequest'
        '403':
          description: 'Unauthorized. Invalid or expired access_token.'
          content:
            application/json:
              schema: 
                $ref: '#/components/schemas/AuthError'
        '404':
          description: 'Document not found.'
          content:
            application/json:
              schema: 
                $ref: '#/components/schemas/NotFoundError'
components:
  securitySchemes:
    BearerAuth:
      description: |
        All API endpoints, except for the https://api.amazon.com/auth/o2/token, must be authenticated with a Bearer token.
        
        This is used to authenticate all API requests and needs to be set in the ```Authorization``` HTTP header example: 
        
        ```Authorization: Bearer "Atc|MQEWYJxEnP3I1ND03ZzbY...REDACTED```.
      type: http
      scheme: bearer
  schemas:
    AccessPoint:
      type: object
      properties:
        accessPointId:
          type: string
          example: 'ACM-0045'
          description: |
            Unique identifier for a single Access Point. The same location must be always identified by the same accessPointId. accessPointId cannot be changed for an already created location. Also, it is not possible to upload the same active location twice with two different accessPointIds.

            Please use the following format:
            Three capital letter prefix identifying the company followed by a hyphen and internal store ID (if exists).

            If internal IDs not already in use, please assign a four digit number to each of the stores for the format to follow.

            E.g. For Acme store 45: `ACM-0045`

            Using this format for store IDs will make quality reporting with Amazon much more efficient as it is easier to identify individual stores.
        accessPointName:
          type: string
          example: 'Amazon Counter - Acme Manchester'
          maximum: 50
          description: |
            Customer-facing business name for location, prepended by the fixed string `Amazon Counter - `. 
            
            If location descriptor is used to differentiate store chains, add it after the store name. 
            
            For example: `Amazon Counter - Acme Manchester`. 
            
            There is a 50-character limit for this field - therefore 29 characters available following `Amazon Counter - ` to provide location business name and descriptor.

            > **NOTE**: If this is a third party pick-up point the `Amazon Counter - ` prefix does not apply.
        loginClaim:
          type: string
          example: 'store123@companydomain.com or +447999999123'
          description: |
            Unique email address or mobile phone accessible by store manager that will be associated with the store. Store manager will either create a new Amazon account or sign into Counter app using this loginClaim for the store. A loginClaim can only be mapped to one store at a time.

            Email loginClaim must only be provided in RFC 5322 format and phone loginClaim must be provided in international format, preferably E164; beginning with + and country code. E.g. email: store123@companydomain.com, phone: +447999999123. Please note that loginClaim is case insensitive and email loginClaims such as abc@xyz.com will be treated same as ABC@xyz.com. Similarly, phone numbers such as +447999999123 and +44(7999)-999123 will be treated as same.
       
            loginClaim is honoured only for approved clients. For unapproved clients, the field is ignored even if sent in the feed. Please contact your Amazon Representative to check if you are approved for using this field.

            loginClaim is not mandatory for existing stores that were onboarded without loginClaims, but is mandatory for any new stores of approved clients and stores which are already associated to some loginClaims in Amazon systems.

            Stores onboarded with loginClaim will receive location activation notification via either email or SMS depending upon the channel provided in communication details. Email takes precedence over SMS in case both are provided. In case no communication details are provided, notification will be sent to email or phone that was provided in the loginClaim field.

            loginClaim is an updatable field for a store record as long as the input loginClaim has not been used for a store activation on Counter app. In other words, if a loginClaim X is mapped to store Y which was previously activated, then the loginClaim X cannot be used for any other store.

            Once a partner maps a loginClaim to a store, no other client can use that same loginClaim to map to any of their stores. Thus, loginClaims are reserved within the Partner namespace. However, the same Partner is allowed to update the login claims for its planned stores as many times as required.

            It is recommended to send loginClaims for all the stores in a single feed. To understand why, let us consider the following scenario: 
            - Partner submits a feed to onboard store Y with loginClaim A and store Z with loginClaim B. 
            - loginClaim A is mapped to store Y, while login claim B is mapped to store Z. 
            - The Partner then sends a feed to update store Z with loginClaim A. Given both the stores are in the 'Planned' state and belong to same client, operation will succeed. 
            - Since a loginClaim can be mapped only to one store at a time, loginClaim A will finally be mapped to store Z, whilst loginClaim B will be removed from the system, leaving store Y abandoned. 
            To mitigate this risk, clients are advised to send loginClaims for all the stores in a single feed.

            > **NOTE**: The field is not applicable for third party pickup points. 
        isActive:
          type: boolean
          example: true
          description: | 
           True or false value. Status of the Access Point. Active location will be processed by Amazon for activation. Inactive location will be instantly removed from Amazon website. This property will be used to deactivate or activate stores already in Counter estate.

            E.g. `true`
        isRestrictedAccess:
          type: boolean
          example: false
          description: |
            True or false value. Indicates that Access Point is in restricted area inaccessible to the public. Message will be displayed on the Amazon website indicating that customer will require authorization for access. This is set to false by default.

            E.g. `true`
        timeZone:
          type: string
          example: America/Los_Angeles
          description: |
            The Access Point time zone.
            See Appendix II for format details.

            E.g. `Europe/London`
        capacity:
          type: object
          properties:
            threshold:
              type: integer
              description: 'Maximum number of packages that can be stored at the Access Point location. If the value is not present the threshold will be set by default to 20 packages. Minimum supported value is 5 packages.'
              minimum: 5
          required:
            - threshold
        communicationDetails:
          type: object
          description: |
            Access Point contact details - mandatory for Amazon Counter locations which are not using loginClaim field as store registration email is sent to the *emailId* specified here.

            This field is optional for stores onboarded with loginClaim, who will receive location activation notification via either email or SMS depending upon the channel provided in communication details. Email takes precedence over SMS in case both are provided. In case no communication details are provided, notification will be sent on email or phone that was provided in the login claim field.

            > **NOTE**: This field is not mandatory for third party pick-up points.
          properties:
            phoneNumber:
              type: string
              example: '+44 7999 999123'
              pattern: '^[+]?([0-9]*[\\.\\s\\-\\(\\)]|[0-9]+){3,24}$'
              description: |
                Access Point phone number, beginning with country code.

                E.g. `+44 7999 999123`
            emailId:
              type: string
              example: 'store123@companydomain.com'
              pattern: "[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
              description: |
                Access Point email address used by Amazon to contact the location and initiate onboarding process.

                E.g. `store123@companydomain.com`
            faxPhone:
              type: string
              example: '+44 7999 999123'
              description: |
                Access Point fax phone number, beginning with country code.

                E.g. `+44 7999 999123`
          required:
            - phoneNumber
            - emailId
        terminationDate:
          type: string
          example: '2199-12-31'
          pattern: '^\\d{4}\\-(0?[1-9]|1[012])\\-(0?[1-9]|[12][0-9]|3[01])$'
          description: |
            Access Point termination date in the format YYYY-MM-DD. Can be used to notify Amazon of an upcoming location termination.

            E.g. `2199-12-31`
        capabilities:
          type: array
          minItems: 1
          items:
            type: string
            example: 'PICK_UP'
            enum: [PICK_UP, DROP_OFF]
          description: |
            Access Point supported capabilities: PICK_UP for deliveries and DROP_OFF for c-returns.

            E.g. `["PICK_UP", "DROP_OFF"]`
        address:
          type: object
          properties:
            addressFieldOne:
              type: string
              example: '123 Fellowman Road'
              maximum: 180
              description: |
                Street address:
                
                E.g. `123 Fellowman Road`

                Or building name:
                
                E.g. `Unit 2, Busby Building`

                > **NOTE**: This field has a 180-character limit.
            addressFieldTwo:
              type: string
              example: 'Hale'
              maximum: 60
              description: |
                Street Address 
                (if addressFieldOne = Building Name)
                Only put Street Address in this property if there is a building name in the first address property.

                E.g. `123 Fellowman Road`

                Or additional line for Access point address 
                (if addressFieldOne = Street Address)
                Can be a relevant village or town if there is a street address in the first address property.
                
                E.g. `Hale`

                > **NOTE**: This field has a 60-character limit.
            addressFieldThree:
              type: string
              example: 'Altrincham'
              maximum: 60
              description: |
                Additional line for the Access Point address.
                Can be a relevant village or town.
                

                E.g. `Altrincham`

                > **NOTE**: This field has a 60-character limit.
            city:
              type: string
              example: 'Manchester'
              description: |
                City where Access Point is located.

                E.g. `Manchester`
            region:
              type: string
              example: null
              description: |
                Region where Access Point is located.

                * Equivalent to state in the US.
                * Leave blank for UK. 
                * Equivalent to prefecture for JP.
            district:
              type: string
              example: Greater Manchester
              description: |
                District/county where Access Point is located.

                E.g. `Greater Manchester`
            postalCode:
              type: string
              example: WA34 9PS
              description: |
                Access Point postal code. 

                * For UK, include a space between the 2 halves of the postcode.

                E.g. `WA34 9PS`
            countryCode:
              type: string
              example: 'GB'
              description: |
                Access Point country code.

                E.g. `GB`
            latitude:
              type: string
              example: '79.290182'
              description: |
                Access Point latitude to 6 decimal places. An error will be thrown if value is zero for both latitude and longitude.

                E.g. `79.290182`
              pattern: '[+-]?\\d*\\.?\\d+'
            longitude:
              type: string
              example: '21.127915'
              description: |
                Access Point longitude to 6 decimal places. An error will be thrown if value is zero for both latitude and longitude.

                E.g. `21.127915`
              pattern: '[+-]?\\d*\\.?\\d+'''
          required:
            - addressFieldOne
            - city
            - countryCode
            - postalCode
            - latitude
            - longitude
        standardHours:
          type: array
          description: 'Array containing location standard opening hours.'
          minItems: 2
          items:
            - $ref: '#/components/schemas/StandardHoursOne'
            - $ref: '#/components/schemas/StandardHoursTwo'

        exceptionalClosures:
          type: array
          description: 'List with exceptional closures for Access Point. Minimum unit of exceptional closure is one day.'
          minItems: 2
          items:
            - $ref: '#/components/schemas/ExceptionalClosureOne'
            - $ref: '#/components/schemas/ExceptionalClosureTwo'

      required:
        - accessPointId
        - accessPointName
        - isActive
        - timeZone
        - address
        - standardHours
        - capabilities 

    AccessTokenRequest:
      type: object
      properties:
        client_id: 
          type: string
          example: 'amzn1.application-oa2-client.5f4deb235c3....REDACTED'
          description: 'Client ID received as part of security profile.'
        client_secret: 
          type: string
          example: '4244a2183d4c67aa66f15b4923f4496a5e14a1a326c96c5606715505dfbc7544'
          description: 'Client secret received as part of security profile.'
        grant_type: 
          type: string
          default: client_credentials
        scope: 
          type: string
          default: accesspoints::accesspoint:readwrite

    AccessTokenResponse:
      type: object
      properties:
        access_token: 
          type: string
          example: 'Atc|MQEWYJxEnP3I1ND03ZzbY...REDACTED'
          description: 'Bearer token - authenticates API requests.'
        expires_in: 
          type: integer
          description: 'Expiration time in seconds since issue of token.'
          default: 3600
        scope: 
          type: string
          description: 'Scope relevant to this token.'
          default: 'accesspoints::accesspoint:readwrite'
        token_type: 
          type: string
          description: 'Access token type.'
          default: 'Bearer'

    AccessTokenResponseError:
      type: object
      properties:
        error: 
          type: string
          example: 'invalid_client'
        error_description: 
          type: string
          example: 'Client authentication failed'

    FeedsRequest:
      type: object
      description: 'Feed containing list of Access Aoints to be processed.'
      properties: 
        accessPoints: 
          type: array
          description: 'List of partner Access Points to be processed.'
          items:
            $ref: '#/components/schemas/AccessPoint'
    
    FeedsResponse:
      type: object
      properties:
        feedId: 
          type: string
          example: '0fbee22e-e455-44d5-9a5d-14fd1a345055'
          description: 'Unique identifier representing request.'
        clientId: 
          type: string
          example: 'Atc|MQEWYJxEnP3I1ND03ZzbY...REDACTED'
          description: ClientId received as part of security profile.
        sequenceNumber: 
          type: integer
          example: 160
          description: 'Incremental number assigned to the feed.'
        status: 
          type: string
          example: 'Completed'
          enum: [Processing, Failed, Completed]
          description: '**Processing** corresponds to a feed that is still being processed, **Completed** to feeds fully processed and **Failed** if the feed processing failed. * **Failed:** This error code will be given as part of failure which can
          not be recovered. For instance, data configured in downstream service is not correct. No Output document will be generated in such scenarios. * **Processing:** The Input Document is still in process. * **Completed:** The Input Document processing is completed and the corresponding Output Document is generated.'
        inputDocuments: 
            type: array
            description: 'Input Document list.' 
            items:
              $ref: '#/components/schemas/Document'
        outputDocuments:
            type: array
            description: 'Output Document list.'
            items:
              $ref: '#/components/schemas/Document'
        createDate: 
          type: integer
          example: 1572273619584
          description: 'Epoch time of feed submission.'

    MidDayClosure:
      type: object
      properties:
        startTime:
          type: string
          example: '14:00:00'
          description: |
            Midday closure closing time (if any) in the format `HH:MM:SS`.

            E.g. `14:00:00`
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'
        endTime:
          type: string
          example: '15:00:00'
          description: |
            Midday closure opening time (if any) in the format `HH:MM:SS`.

            E.g. `15:00:00`
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'
      required:
        - startTime
        - endTime

    StandardHoursOne:
      type: object
      properties:
        day:
          type: string
          example: 'MONDAY'
          description: |
            Day of the week for opening hours’ entry.
            E.g. `MONDAY`
          enum: [MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]
        openingTime:
          type: string
          example: '08:00:00'
          description: |
            Access Point opening time in the format HH:MM:SS
            E.g. `08:00:00`
            * If store is 24 hours, please set it to `00:00:00`
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'
        closingTime:
          type: string
          example: '22:00:00'
          description: |
            Access Point closing time in the format HH:MM:SS
            E.g. `22:00:00`
            * If store is 24 hours, please set it to `23:59:59`
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'
        midDayClosures:
          type: array
          description: 'Array for midday closures during any operating day.'
          minItems: 1
          items:
            $ref: '#/components/schemas/MidDayClosure'
      required:
        - day
        - openingTime
        - closingTime

    StandardHoursTwo:
      type: object
      properties:
        day:
          type: string
          example: 'TUESDAY'
          description: |
            Day of the week for opening hours’ entry.
            E.g. `TUESDAY`
          enum: [MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]
        openingTime:
          type: string
          example: '09:00:00'
          description: |
            Access Point opening time in the format HH:MM:SS
            E.g. `09:00:00`
            * If store is 24 hours, please set it to `00:00:00`
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'
        closingTime:
          type: string
          example: '20:00:00'
          description: |
            Access Point closing time in the format HH:MM:SS
            E.g. `20:00:00`
            * If store is 24 hours, please set it to `23:59:59`
          pattern: '^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$'
        midDayClosures:
          type: array
          description: 'Array for midday closures during any operating day.'
          minItems: 1
          items:
            $ref: '#/components/schemas/MidDayClosure'
      required:
        - day
        - openingTime
        - closingTime

    ExceptionalClosureOne:
      type: object
      properties:
        startDateTime:
          type: string
          example: '2023-06-30'
          description: |
            Exceptional closure start date in the format `YYYY-MM-DD`

            E.g. `2023-06-30`
          pattern: '^(20[1-9][0-9])-(0[0-9]|1[0-2])-(0[1-9]|([12][0-9]|3[01]))(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9])?$'
        endDateTime:
          type: string
          example: '2023-07-10'
          description: |
            Exceptional closure end date in the format `YYYY-MM-DD`

            E.g. `2023-07-10`
          pattern: '^(20[1-9][0-9])-(0[0-9]|1[0-2])-(0[1-9]|([12][0-9]|3[01]))(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9])?$'
      required:
        - startDateTime
        - endDateTime
    
    ExceptionalClosureTwo:
      type: object
      properties:
        startDateTime:
          type: string
          example: '2023-06-30'
          description: |
            Exceptional closure start date in the format `YYYY-MM-DD`

            E.g. `2023-06-30`
          pattern: '^(20[1-9][0-9])-(0[0-9]|1[0-2])-(0[1-9]|([12][0-9]|3[01]))(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9])?$'
        endDateTime:
          type: string
          example: '2023-07-10'
          description: |
            Exceptional closure end date in the format `YYYY-MM-DD`

            E.g. `2023-07-10`
          pattern: '^(20[1-9][0-9])-(0[0-9]|1[0-2])-(0[1-9]|([12][0-9]|3[01]))(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9])?$'
      required:
        - startDateTime
        - endDateTime

    AuthError:
      type: object
      properties:
        message: 
          type: string
          example: 'Unexpected Authorization token format'
        retryable: 
          type: boolean
          example: false

    NotFoundError:
      type: object
      properties:
        message: 
          type: string
          example: 'Requested resource does not exist'
        retryable: 
          type: boolean
          example: false

    ProcessingError:
      type: object
      properties:
        errorCode:
          type: string
          example: 'INVALID_ISACTIVE_FLAG_STATE'
          enum:
            - INVALID_INPUT_FEED
            - DEPENDENCY_FAILURE
            - INVALID_CONTENT_TYPE
            - INVALID_ACCESS_POINT_ID
            - INVALID_ACCESS_POINT_NAME
            - INVALID_ACTIVE_FLAG
            - INVALID_RESTRICTED_ACCESS_FLAG
            - INVALID_TIMEZONE
            - INVALID_LOGIN_CLAIM
            - INVALID_TERMINATION_DATE
            - INVALID_CAPABILITIES
            - INVALID_ADDRESS
            - INVALID_STANDARD_HOURS
            - INVALID_EXCEPTION_CLOSURES
            - INVALID_DAY
            - INVALID_MID_DAY_CLOSURES
            - INVALID_COMMUNICATION_DETAILS
            - INVALID_EMAIL_ID
            - INVALID_PHONE_NUMBER
            - DUPLICATE_STORE_ENTRY
            - DUPLICATE_LOGIN_CLAIM_ENTRY
            - UNKNOWN_FIELD
            - UNABLE_TO_FETCH_AP_INFO
            - INVALID_ISACTIVE_FLAG_STATE
            - UNABLE_TO_UPDATE_CLIENT_REF
            - STORE_CREATION_FAILURE
            - UNABLE_TO_UPDATE_STORE_STATUS
            - UNABLE_TO_UPDATE_STORE_CAPABILITY_STATUS
            - UNABLE_TO_UPDATE_STORE_CAPABILITY
            - DATA_CONFIGURATION_ERROR
            - STORE_UPDATION_FAILURE
            - UNABLE_TO_UPLOAD_RESPONSE_DOCUMENT
            - INVALID_STORE_STATE
            - INVALID_CAPACITY
            - INVALID_THRESHOLD
            - UNABLE_TO_UPDATE_CAPACITY
            - ADDRESS_ALREADY_EXISTS_FOR_A_STORE
            - UNABLE_TO_UPDATE_TERMINATED_STORE
            - MISSING_LOGIN_CLAIM
            - LOGIN_CLAIM_ALREADY_MAPPED_TO_STORE
            - UNABLE_TO_PROCESS_LOGIN_CLAIM

        errorMessage:
          type: string
          example: '[INVALID_ISACTIVE_FLAG_STATE] Store isActive flag should be set as true for new creation.'
          description: |
            The error message in user-friendly format. One error code can have multiple error messages.
            * `INVALID_INPUT_FEED` Input Feed is not valid. Please read the API specification document.
            * `DEPENDENCY_FAILURE` Error occurred while fetching partner related details.
            * `INVALID_ACCESS_POINT_ID` expected type: String, found: Integer
            * `INVALID_ACCESS_POINT_ID` required key [accessPointId] not found
            * `INVALID_ACCESS_POINT_ID` string [ ] does not match pattern ^(?!\\s*$).+""
            * `INVALID_ACCESS_POINT_ID` expected type: String, found: Boolean
            * `INVALID_ACCESS_POINT_NAME` required key [accessPointName] not found
            * `INVALID_ACCESS_POINT_NAME` string [ ] does not match pattern ^(?!\s*$).+
            * `INVALID_ACCESS_POINT_NAME` expected maxLength: 50, actual: <>
            * `INVALID_ACTIVE_FLAG` required key [isActive] not found
            * `INVALID_ACTIVE_FLAG` expected type: Boolean, found: String
            * `INVALID_RESTRICTED_ACCESS_FLAG` expected type: Boolean, found: String
            * `INVALID_TIMEZONE` required key [timeZone] not found
            * `INVALID_TIMEZONE` TimeZone is not valid
            * `INVALID_LOGIN_CLAIM` Login claim is not valid. Phone number should be in international or E164 format and email in RFC 5322 format.
            * `INVALID_LOGIN_CLAIM` Login claim is not valid for clients approved for federated authentication. Login claim should start with client unique federate code and should not be an email/phone.
            * `INVALID_LOGIN_CLAIM` expected type: String, found: Integer
            * `INVALID_LOGIN_CLAIM` expected: null, found: Integer
            * `INVALID_TERMINATION_DATE` terminationDate should be of future.
            * `INVALID_TERMINATION_DATE` string [20112-12] does not match pattern ^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$
            * `INVALID_TERMINATION_DATE` expected: null, found: String
            * `INVALID_CAPABILITIES` Capabilities are not unique.
            * `INVALID_CAPABILITIES` input is not a valid enum value
            * `INVALID_CAPABILITIES` Expected minimum item count: 1, found: 0
            * `INVALID_CAPABILITIES` Expected type: JSONArray, found: String
            * `INVALID_ADDRESS` - `INVALID_ADDRESS` Address is invalid
            * `INVALID_ADDRESS` - `INVALID_ADDRESS` CountryCode is not valid
            * `INVALID_ADDRESS` - `INVALID_COUNTRY_CODE` required key [countryCode] not found 
            * `INVALID_ADDRESS` - `INVALID_COUNTRY_CODE` expected type: String, found: Null
            * `INVALID_ADDRESS` - `INVALID_LATITUDE` Latitude should be in the range of -90 and 90 (both inclusive)
            * `INVALID_ADDRESS` - `INVALID_LATITUDE` required key [latitude] not found
            * `INVALID_ADDRESS` - `INVALID_LATITUDE` string [latitude] does not match pattern [+-]?\d*\.?\d+
            * `INVALID_ADDRESS` - `INVALID_LATITUDE` expected type: String, found: Null
            * `INVALID_ADDRESS` - `INVALID_LONGITUDE` Longitude should be in the range of -180 and 180 (both inclusive)
            * `INVALID_ADDRESS` - `INVALID_LONGITUDE` required key [longitude] not found
            * `INVALID_ADDRESS` - `INVALID_LONGITUDE` string [longitude] does not match pattern [+-]?\d*\.?\d+
            * `INVALID_ADDRESS` - `INVALID_LONGITUDE` expected type: String, found: Null
            * `INVALID_ADDRESS` - `INVALID_GEOCODE_PAIR` Latitude and Longitude pair is invalid.
            * `INVALID_ADDRESS` - `INVALID_CITY` city is invalid
            * `INVALID_ADDRESS` - `INVALID_CITY` required key [city] not found
            * `INVALID_ADDRESS` - `INVALID_CITY` string [ ] does not match pattern ^(?!\\s*$).+
            * `INVALID_ADDRESS` - `INVALID_CITY` expected maxLength: 50, actual: <>
            * `INVALID_ADDRESS` - `INVALID_CITY` required key [city] not found
            * `INVALID_ADDRESS` - `INVALID_CITY` expected type: String, found: Null
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_ONE_MULTI_BYTE_CHARACTERS] Multi byte or special characters not allowed in addressFieldOne
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_ONE` addressFieldOne is invalid
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_ONE` required key [addressFieldOne] not found
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_ONE` string [ ] does not match pattern ^(?!\s*$).+
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_ONE` expected maxLength: 180, actual: <>
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_ONE` expected type: String, found: Null
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_TWO` addressFieldTwo should not be greater than 60 characters.
            * `INVALID_ADDRESS` - `INVALID_ADDRESS_FIELD_THREE` addressFieldThree should not be greater than 60 characters.
            * `INVALID_ADDRESS` - `INVALID_POSTAL_CODE` postalCode is invalid
            * `INVALID_ADDRESS` - `INVALID_POSTAL_CODE` required key [postalCode] not found
            * `INVALID_ADDRESS` - `INVALID_POSTAL_CODE` string [ ] does not match pattern ^(?!\s*$).+
            * `INVALID_ADDRESS` - `INVALID_POSTAL_CODE` expected: null, found: String
            * `INVALID_ADDRESS` - `INVALID_POSTAL_CODE` expected maxLength: 20, actual: <>
            * `INVALID_ADDRESS` - `INVALID_REGION` region is invalid
            * `INVALID_ADDRESS` - `INVALID_REGION` region should not be greater than 50 characters.
            * `INVALID_ADDRESS` - `INVALID_DISTRICT` district should not be greater than 50 characters.
            * `INVALID_STANDARD_HOURS` - `INVALID_MID_DAY_CLOSURES` expected type: JSONObject, found: String
            * `INVALID_STANDARD_HOURS` - `INVALID_OPENING_TIME` opening time <> is greater than or equal to closing time.
            * `INVALID_STANDARD_HOURS` - `INVALID_DAY` MondaY is not a valid enum value
            * `INVALID_STANDARD_HOURS` - `INVALID_DAY` Days are not unique in Standard Hours.
            * `INVALID_STANDARD_HOURS` - `INVALID_STANDARD_HOURS`Standard hours are not valid
            * `INVALID_STANDARD_HOURS` - `INVALID_STANDARD_HOURS` required key [standardHours] not found
            * `INVALID_STANDARD_HOURS` - `INVALID_STANDARD_HOURS` expected minimum item count: 2, found: 0
            * `INVALID_STANDARD_HOURS` - `INVALID_STANDARD_HOURS` expected type: JSONArray, found: String
            * `INVALID_STANDARD_HOURS` - `INVALID_CLOSING_TIME` string [00:00:00] does not match pattern ^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$
            * `INVALID_STANDARD_HOURS` - `INVALID_OPENING_TIME` string [00:00:00] does not match pattern ^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_END_DATE_TIME` end date <> is lesser than or equal to current time.
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_END_DATE_TIME` required key [endDateTime] not found
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_EXCEPTION_CLOSURES` Exceptional closures already exist for 30 days.
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_EXCEPTION_CLOSURES` One of the exception operating hours overlaps with another exception operating hours.
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_START_DATE_TIME` start date <> is greater than or equal to end date.
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_START_DATE_TIME` start date <> is lesser than or equal to current time.
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_END_DATE_TIME` end date <> is lesser than or equal to current time.
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_EXCEPTION_CLOSURES` expected minimum item count: 1, found: 0
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_EXCEPTION_CLOSURES` expected: null, found: JSONArray
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_START_DATE_TIME` string [2038-06--30T01:00:00] does not match pattern ^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$
            * `INVALID_EXCEPTION_CLOSURES` - `INVALID_END_DATE_TIME` string [2038-10T01:00] does not match pattern ^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$"
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_START_TIME` string [14:60:00] does not match pattern ^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_END_TIME` string [24:00:00] does not match pattern ^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_MID_DAY_CLOSURES` expected type: JSONArray, found: String
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_MID_DAY_CLOSURES` expected: null, found: String
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_END_TIME` expected type: String, found: JSONObject
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_START_TIME` start time 09:30:58 should be between start and end standard time.
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_END_TIME` end time 21:00:00 should be between start and end standard time.
            * `INVALID_MID_DAY_CLOSURES` - `INVALID_START_TIME` start time 21:30:58 is greater than or equal to end time."
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_EMAIL_ID` expected: null, found: String
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_EMAIL_ID` required key [emailId] not found
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_EMAIL_ID` expected type: String, found: Null
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_EMAIL_ID` string [emailId] does not match pattern ^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$" 
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_PHONE_NUMBER` required key [phoneNumber] not found
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_PHONE_NUMBER` expected type: String, found: Null
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_PHONE_NUMBER` expected type: String, found: Integer
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_PHONE_NUMBER` expected: null, found: Integer
            * `INVALID_COMMUNICATION_DETAILS` - `INVALID_PHONE_NUMBER` string [phoneNumber] does not match pattern ^[+]?([0-9]*[\\.\\s\\-\\(\\)]|[0-9]+){3,24}$"
            * `DUPLICATE_STORE_ENTRY` This is a duplicate store entry, index occurrences are: <>
            * `DUPLICATE_LOGIN_CLAIM_ENTRY` This is a duplicate login claim entry, index occurrences are: <>
            * `UNKNOWN_FIELD` expected type: JSONObject, found: null
            * `UNABLE_TO_FETCH_AP_INFO` Unable to fetch access point information from downstream service for store <store ID>. Please retry.
            * `INVALID_ISACTIVE_FLAG_STATE` Store isActive flag should be set as true for new creation.
            * `STORE_CREATION_FAILURE` Error occurred while creation of store
            * `UNABLE_TO_UPDATE_STORE_STATUS` Unable to update store status.
            * `UNABLE_TO_UPDATE_STORE_STATUS` Store status update has been blocked by Amazon. Please contact Amazon Hub Representative."
            * `UNABLE_TO_UPDATE_STORE_CAPABILITY_STATUS` Unable to update capability <PICK_UP/DROP_OFF> status for store.
            * `UNABLE_TO_UPDATE_STORE_CAPABILITY` Unable to update capability <PICK_UP/DROP_OFF> for store.
            * `UNABLE_TO_UPDATE_STORE_CAPABILITY` Unable to update capabilities [<PICK_UP/DROP_OFF>] for store. Please contact Amazon Hub representative."
            * `DATA_CONFIGURATION_ERROR` There is some configuration issue. Please contact Amazon Hub representative.
            * `STORE_UPDATION_FAILURE` Store identifier is not found in existing store to be updated.
            * `STORE_UPDATION_FAILURE` Error occurred while updation of store"
            * `UNABLE_TO_UPLOAD_RESPONSE_DOCUMENT` - [UNABLE_TO_UPLOAD_RESPONSE_DOCUMENT] Unable to upload output document.
            * `INVALID_STORE_STATE` Invalis store state
            * `INVALID_CAPACITY` - `INVALID_THRESHOLD` required key [threshold] not found
            * `INVALID_CAPACITY` - `INVALID_THRESHOLD` expected type: Number, found: String
            * `INVALID_CAPACITY` - `INVALID_THRESHOLD` input is not higher or equal to 5"
            * `UNABLE_TO_UPDATE_CAPACITY` - `CAPACITY_CREATION_FAILURE` Error occurred while creating capacity of store
            * `UNABLE_TO_UPDATE_CAPACITY` - `CAPACITY_UPDATION_FAILURE` Error occurred while updating capacity of store
            * `UNABLE_TO_UPDATE_CAPACITY` - `UNABLE_TO_FETCH_CAPACITY_INFO` Error occurred while fetching info for storeID: <storeId> in Capacity"
            * `ADDRESS_ALREADY_EXISTS_FOR_A_STORE` Error occurred while creation of store
            * `ADDRESS_ALREADY_EXISTS_FOR_A_STORE` Error occurred while updation of store"
            * `UNABLE_TO_UPDATE_TERMINATED_STORE` Terminated store cannot be updated.
            * `MISSING_LOGIN_CLAIM` This is a required field when onboarding a new store or when updating the store already associated with a login claim.
            * `LOGIN_CLAIM_ALREADY_MAPPED_TO_STORE` There is already a store associated with this login claim. Please use a different login claim to register.
            * `UNABLE_TO_PROCESS_LOGIN_CLAIM` There was an error processing the login claim. Please try again or contact Amazon Hub Representative if error persists.

    ProcessingNotification:
      type: object
      properties:
        notificationCode:
          type: string
          example: 'CONFLICTING_UPDATE_ON_STANDARD_HOURS_BY_AMAZON'
          enum:
            - CONFLICTING_UPDATE_ON_STANDARD_HOURS_BY_AMAZON
            - CONFLICTING_UPDATE_ON_STANDARD_HOURS_BY_STORE
            - CONFLICTING_UPDATE_ON_EXCEPTIONAL_CLOSURES_BY_AMAZON
            - CONFLICTING_UPDATE_ON_EXCEPTIONAL_CLOSURES_BY_STORE

        notificationMessage:
          type: string
          example: 'CONFLICTING_UPDATE_ON_STANDARD_HOURS_BY_AMAZON - Update on standard hours could not be made due to conflicting update by Amazon'
          description: |
            The notification message in user-friendly format. 
            * `CONFLICTING_UPDATE_ON_STANDARD_HOURS_BY_AMAZON` - Update on standard hours could not be made due to conflicting update by Amazon.
            * `CONFLICTING_UPDATE_ON_STANDARD_HOURS_BY_STORE` - Update on standard hours could not be made due to conflicting update by Store.
            * `CONFLICTING_UPDATE_ON_EXCEPTIONAL_CLOSURES_BY_AMAZON` - Exceptional closures are already applied for dates startDate to endDate by Amazon. Example, Exceptional closures are already applied for dates 2025-05-22 to 2025-05-25 by Amazon.
            * `CONFLICTING_UPDATE_ON_EXCEPTIONAL_CLOSURES_BY_STORE` - Exceptional closures are already applied for dates startDate to endDate by Store. Example, Exceptional closures are already applied for dates 2025-05-22 to 2025-05-25 by Store.
              
    Document:
      type: object
      properties:
        documentId: 
          type: string
          example: 'amzn1.tortuga.3.a74d493a-0767-4620-902f-3f05dd8cfc02.T2P91TLO6KF549'
          description: 'Unique id representing the document.'
        documentType: 
          type: string
          example: 'OutputDocument'
          enum: [InputDocument, OutputDocument]
          description: 'Document type.'

    OutputDocument:
      type: object
      description: 'Holds processing details for submitted feed.'
      properties:
        feedId:
          description: 'Corresponds to feed submission feedId.'
          example: '0fbee22e-e455-44d5-9a5d-14fd1a345055'
          type: string
        noOfAccessPointsProcessed:
          description: 'Total number of Access Points being processed.'
          example: 2
          type: integer
        noOfAccessPointsSuccessfullyProcessed:
          description: 'Total number of Access Points successfully updated for the feed submitted.'
          example: 1
          type: integer
        noOfAccessPointsFailedToProcess:
          example: 1
          description: 'Total number of Access Points unable to process due to errors.'
          type: integer
        failedAccessPointProcessingDetails:
          type: array
          description: Detailed list of errors for this feed.
          items:
            type: object
            properties:
              indexNumber:
                description: 'Corresponds to index of entry in Input feed.'
                example: 1
                type: integer
              accesspointId: 
                description: 'Unique Id for the Access Point provided at time of feed submission.'
                example: 'ACM-0045'
                type: string
              resultStatus:
                description: 'Enum property which dictates the success, failure and notification cases.'
                example: 'FAILURE'
                type: string
                enum: [SUCCESS, WARNING, FAILURE]
              errors:
                type: array
                description: 'List of errors codes and error messages. Error codes inform about the general category of the error. Error message provides context on the specific error with details. The error codes could contains more than one error core.'
                items:
                  $ref: '#/components/schemas/ProcessingError'
            required:
              - indexNumber
              - accesspointId
              - resultStatus
        notificationDetails:
          type: array
          description: Detailed list of notifications for the updated without errors but with notifications. These notifications are populated if the feed is requesting a conflicting update. Conflicts arise when another actor (store or Amazon) has performed a blocking update on some fields of the same Hub.
          items:
            type: object
            properties:
              indexNumber:
                description: 'Corresponds to index of entry in Input feed.'
                example: 1
                type: integer
              accesspointId: 
                description: 'Unique Id for the Access Point provided at time of feed submission.'
                example: 'ACM-0045'
                type: string
              resultStatus:
                description: 'Enum property which dictates the success, failure and notification cases.'
                example: 'SUCCESS'
                type: string
                enum: [SUCCESS, WARNING, FAILURE]
              notifications:
                type: array
                description: 'List of processing notifications and their description.'
                items:
                  $ref: '#/components/schemas/ProcessingNotification'
            required:
              - indexNumber
              - accesspointId
              - resultStatus
            
      required:
        - feedId
        - noOfAccessPointsProcessed
        - noOfAccessPointsSuccessfullyProcessed
        - noOfAccessPointsFailedToProcess